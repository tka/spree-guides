<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>spree_guides: Getting Started With Spree</title>

<link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
<link rel="stylesheet" type="text/css" href="stylesheets/overrides.style.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/overrides.print.css" media="print" />


<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />


</head>
<body class="guide">
  <div id="topNav">
    <div class="wrapper">
      <strong>More at <a href="http://spreecommerce.com">spreecommerce.com:</a> </strong>
      <a href="http://spreecommerce.com/tour">Features</a> |
      <a href="http://spreecommerce.com/resources">Resources</a> |
      <a href="http://spreecommerce.com/blog">Blog</a> |
      <a href="http://spreecommerce.com/demo">Demo</a> |
      <a href="http://spreecommerce.com/community">Community</a> |
      <a href="http://spreecommerce.com/download">Download</a>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="overview.html" title="Return to home page">spree_guides</a></h1>
      <p class="hide"><a href="#mainCol">Skip navigation</a>.</p>
      <ul class="nav">
        <li><a href="overview.html">Home</a></li>
        <li class="index"><a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu">Guides Index <span id="guidesArrow">&#9656;</span></a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="L">
    <dt>Start Here</dt>
      <dd><a href="getting_started.html">Getting Started with Spree</a></dd>
      <dd><a href="source_code.html">Working with the Source Code</a></dd>
      <dd><a href="server_configuration.html">Server Configuration</a></dd>
    <dt>Best Practices</dt>
      <dd><a href="developer_tips.html">Developer Tips</a></dd>
      <dd><a href="seo_considerations.html">SEO Considerations</a></dd>
    <dt>Basic Configuration</dt>
      <dd><a href="products_and_variants.html">Products and Variants</a></dd>
      <dd><a href="inventory.html">Inventory</a></dd>
      <dd><a href="taxonomy.html">Taxonomy/Categorization</a></dd>
      <dd><a href="payments.html">Payments</a></dd>
      <dd><a href="payment_gateways.html">Payment Gateways</a></dd>
      <dd><a href="zones.html">Zones</a></dd>
      <dd><a href="adjustments.html">Adjustments</a></dd>
      <dd><a href="taxation.html">Taxation</a></dd>
      <dd><a href="shipping.html">Shopping</a></dd>
      <dd><a href="promotions.html">Promotions</a></dd>
</dl>
<dl class="R">
    <dt>Digging Deeper</dt>
      <dd><a href="customization.html">Customization</a></dd>
      <dd><a href="extensions.html">Using Extensions</a></dd>
      <dd><a href="checkout.html">Spree Checkout Process</a></dd>
      <dd><a href="migration.html">Migrating Data to Spree</a></dd>
      <dd><a href="i18n.html">Internationalization/Localization</a></dd>
      <dd><a href="testing.html">Testing Spree Applications</a></dd>
      <dd><a href="security.html">Securing Spree Applications</a></dd>
      <dd><a href="preferences.html">Preferences</a></dd>
      <dd><a href="rest.html">REST API</a></dd>
      <dd><a href="scopes_and_groups.html">Product Groups and Scopes</a></dd>
      <dd><a href="searching.html">Seaching and Faceting</a></dd>
      <dd><a href="contributing_to_spree.html">Contributing to Spree</a></dd>
</dl>


          </div>
        </li>
        <li><a href="contributing_to_spree.html">Contribute</a></li>
        <li><a href="credits.html">Credits</a></li>
      </ul>
    </div>
  </div>

  <div id="feature">
    <div class="wrapper">
      <h2>Getting Started With Spree</h2>
<p>This guide covers getting up and running with Spree. After reading it, you should be familiar with:</p>
<ul>
	<li>Installing Spree, creating a new Spree application, and connecting your application to a database</li>
	<li>The general layout of a Spree application</li>
	<li>The basic principles behind the Spree design</li>
	<li>How to quickly generate the starting pieces of a Spree application.</li>
	<li>How to continue with this towards a first production system.</li>
</ul>


            <div id="subCol">
        <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
        <ol class="chapters">
          <li><a href="#this-guide-assumes"><p>This Guide Assumes</p>
</a></li><li><a href="#what-is-spree"><p>What is Spree?</p>
</a><ul><li><a href="#motivation"><p>Motivation</p>
</a></li> <li><a href="#opinionated-commerce"><p>Opinionated Commerce</p>
</a></li></ul></li><li><a href="#installation"><p>Installation</p>
</a><ul><li><a href="#installing-rails"><p>Installing Rails</p>
</a></li> <li><a href="#installing-bundler"><p>Installing Bundler</p>
</a></li> <li><a href="#installing-spree"><p>Installing Spree</p>
</a></li> <li><a href="#installing-image-magick"><p>Installing Image Magick</p>
</a></li></ul></li><li><a href="#creating-a-new-spree-project"><p>Creating a New Spree Project</p>
</a><ul><li><a href="#creating-the-rails-application"><p>Creating the Rails Application</p>
</a></li> <li><a href="#adding-spree-to-a-rails-application"><p>Adding Spree to a Rails Application</p>
</a></li> <li><a href="#gem-installation"><p>Gem Installation</p>
</a></li> <li><a href="#configuring-the-database"><p>Configuring the Database</p>
</a></li> <li><a href="#installing-the-migrations-and-other-assets"><p>Installing the Migrations and Other Assets</p>
</a></li> <li><a href="#populating-the-database"><p>Populating the Database</p>
</a></li></ul></li><li><a href="#hello-spree"><p>Hello, Spree!</p>
</a><ul><li><a href="#starting-up-spree"><p>Starting up Spree</p>
</a></li> <li><a href="#logging-into-the-backend"><p>Logging into the Backend</p>
</a></li></ul></li>
        </ol>
      </div>

    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="this-guide-assumes">1 This Guide Assumes</h3>
<p>This guide is designed for beginners who want to get started with a Spree application from scratch. It assumes a basic working knowledge of Ruby on Rails.  To get the most out of this guide, you need to have some prerequisites installed:</p>
<ul>
	<li>The <a href="http://www.ruby-lang.org/en/downloads">Ruby</a> language</li>
	<li>The <a href="http://rubyforge.org/frs/?group_id=126">RubyGems</a> packaging system</li>
	<li>The <a href="http://rubyonrails.org/download">Ruby on Rails</a> gems</li>
	<li>A working installation of <a href="http://www.sqlite.org">SQLite</a> (preferred), <a href="http://www.mysql.com">MySQL</a>, or <a href="http://www.postgresql.org">PostgreSQL</a></li>
</ul>
<p>It is highly recommended that you <strong>familiarize yourself with Ruby on Rails before diving into Spree</strong>. You will find it much easier to follow what’s going on with a Spree application if you understand basic Ruby syntax.</p>
<p>There are many excellent online resources for learning Ruby on Rails, including:</p>
<ul>
	<li><a href="http://guides.rubyonrails.org">Rails Guides</a></li>
	<li><a href="http://railscasts.com/" title="Free Screencasts">Railscasts</a></li>
</ul>
<p>There are also some good free resources on the internet for learning Ruby, including:</p>
<ul>
	<li><a href="http://www.humblelittlerubybook.com">Mr. Neighborly’s Humble Little Ruby Book</a></li>
	<li><a href="http://www.ruby-doc.org/docs/ProgrammingRuby/">Programming Ruby</a></li>
	<li><a href="http://mislav.uniqpath.com/poignant-guide/">Why’s (Poignant) Guide to Ruby</a></li>
</ul>
<h3 id="what-is-spree">2 What is Spree?</h3>
<p>Spree is a full featured commerce platform written for the Ruby on Rails framework. It is designed to make programming commerce applications easier by making several assumptions about what most developers needs to get started. Spree is a production ready store that can be used &#8220;out of the box&#8221;, but more importantly, it is also a developer tool that can be used as a solid foundation for a more sophisticated application then what is generally possible with traditional open source offerings.</p>
<p>Spree is <a href="http://en.wikipedia.org/wiki/Open_source">open source</a>.  It is licensed under the very permissive <a href="http://spreecommerce.com/license">New <span class="caps">BSD</span> License</a>.  You are free to use the software as you see fit, at no charge.  Perhaps more important than the cost, Spree is a true open source community.  Spree has hundreds of contributors who have used and improved it while building their own e-commerce solutions.</p>
<h4 id="motivation">2.1 Motivation</h4>
<p>The goal of the project is to build a complete open source commerce solution for Ruby on Rails. At the start of this project, the Rails commerce space was immature and lacking serious solutions for developers with complex business needs. In the past, Rails has suffered from &#8220;small project mentality.&#8221; Most open source projects in Rails are maintained by a single individual and tend to be limited in scope. Spree seeks to create a large and healthy open source community that developers of other languages have come to expect.</p>
<p>The founder of Spree was motivated to start the project after failing to find an existing community in the Rails space dedicated to this vision. In addition, he was motivated by unsuccessful efforts to use other open source solutions in other programming languages, including (but not limited to) the Magento and OSCommerce. These solutions seemed to be unsatisfactory when presented with even the simplest of use cases.  They were also written in <span class="caps">PHP</span> which was considered to be a poor choice for long term maintainability.</p>
<h4 id="opinionated-commerce">2.2 Opinionated Commerce</h4>
<p>David Heinemeier Hansson (the creator of Rails) is well known for saying that Rails is &#8220;opinionated software.&#8221; Spree continues this fine tradition of adopting a few strong (possibly controversial) opinions which drive its development.</p>
<h5 id="no-solution-will-satisfy-everyone">2.2.1 No Solution Will Satisfy Everyone</h5>
<p>No solution can possibly solve everyone&#8217;s needs perfectly. There are simply too many ways that people do business for us to model them all specifically. Rather then come up short (like so many projects before it), Spree&#8217;s approach is to simply accept this and not even try. Instead Spree tries to focus on solving the 90% portion that most commerce projects face.  The remaining 10% will need to be addressed by the end developer familiar with the client&#8217;s exact business requirements.</p>
<h5 id="online-commerce-is-not-for-noobs">2.2.2 Online Commerce is not for &#8220;Noobs&#8221;</h5>
<p>Rails developers are the target audience for this application &#8211; not business owners. No serious company would ever try to run an online store by just paying some fool on Craig&#8217;s List to install OSCommerce for them. Serious businesses have complicated needs that require paying one or more software professionals to solve them. Spree seeks to be the platform that developers use as the foundation for their project rather than having to start from scratch or settle for less with other software.</p>
<h5 id="developers-need-complete-control">2.2.3 Developers Need Complete Control</h5>
<p>Most business owners will not be satisfied with the generic templates offered by other platforms. Why should they? They want their website to look just like the other professional sites they see on the web. Most businesses also have very specific shipping and taxation rules.  Spree needs to be flexible enough to accommodate most situations.  Sensible defaults should be provided with the eye towards allowing further customization.</p>
<h5 id="stay-focused">2.2.4 Stay Focused</h5>
<p>This is perhaps the most important principle behind the design philosophy. We need to stay focused on core functionality (the 90% that everybody needs.) For this reason it is not appropriate for Spree to attempt to become a Content Management System (<span class="caps">CMS</span>). There are already some pretty good Rails based <span class="caps">CMS</span> projects out there such as <a href="http://radiantcms.org">Radiant</a>. <span class="caps">CMS</span> is definitely important but it is a big enough task to warrant its own project. Spree will definitely be looking at ways to integrate with existing <span class="caps">CMS</span> platforms, we just won&#8217;t be attempting to reinvent the <span class="caps">CMS</span> concept.</p>
<h3 id="installation">3 Installation</h3>
<p>If you follow this guide, you’ll create a Spree project called <tt>mystore</tt>, a (very) simple online store. Before you can start building the application, you need to make sure that you have Rails itself installed.</p>
<h4 id="installing-rails">3.1 Installing Rails</h4>
<p>In most cases, the easiest way to install Rails is to take advantage of RubyGems:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ gem install rails
</pre></div><h4 id="installing-bundler">3.2 Installing Bundler</h4>
<p>Bundler is the current standard for maintaining Ruby gem dependencies.  It is recommended that you have a decent working knowledge of bundler and how it used within Rails before attempting to install Spree.  You can install bundler using the following command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ gem install bundler
</pre></div><h4 id="installing-spree">3.3 Installing Spree</h4>
<p>Spree is distributed as a Rubygem.  The Spree gem itself is actually very small and it depends on several other so-called &#8220;core gems.&#8221;</p>
<p>[<span class="caps">TODO</span>: Add note with link to section describing organization of source code, etc.]</p>
<p>If you are following the recommended approach of using bundler there really isn&#8217;t anything to install since bundler will handle all of this for you.  If you wish, however, you can install Spree manually just like any other gem using the following command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ gem install spree
</pre></div><h4 id="installing-image-magick">3.4 Installing Image Magick</h4>
<p>Spree also uses the Image Magick library for manipulating images.  Using this library allows for automatic resizing of product images and the creation of product image thumbnails.  Image Magick is not a Rubygem and it can be a bit tricky to install.  There are, however, several excellent sources of information on the Web for how to install it.  A basic Google search should help you if you get stuck.</p>
<div class="note"><p>If you would like to skip the ImageMagick installation you can get by without it as long as you do not try to add any product images to your store.  You will also have to skip the creation of the sample products (and related images.) This means you cannot run <ins>rake db:bootstrap</ins> or <ins>rake db:sample</ins> since those rake tasks require the library.</p></div>
<h3 id="creating-a-new-spree-project">4 Creating a New Spree Project</h3>
<p>The distribution of Spree as a Rubygem allows it to be used in a new Rails project or added to an existing Rails project.  This guide will assume you are creating a brand new store and will walk you through the process starting with the creation of a new Rails application.</p>
<div class="info"><p>In versions prior to Spree 0.30.0 you could not simply add Spree to an existing Rails application.  You needed to use a special <ins>spree</ins> command to setup your project.  This command customized/hacked some of the standard Rails initializers but this approach is no longer necessary due to improvements to Rails that were designed to support frameworks such as Spree.</p></div>
<p>[<span class="caps">TODO</span>: Possible note and link to source section detailing the Rails Engines aspect]</p>
<h4 id="creating-the-rails-application">4.1 Creating the Rails Application</h4>
<p>Lets start by creating a standard Rails application using the following command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rails new mystore
</pre></div><p>This creates a new Rails application using all of the default options (including a Sqlite3 database.)  If you wish to create your application with a different database you can use the <tt>-d</tt> option (again this is not specific to Spree &#8211; its standard Rails at this point.)</p>
<p>For example, to create your application using Mysql you use the following command instead:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rails new mystore -d mysql
</pre></div><p>Here is a complete list of database options</p>
<ul>
	<li>mysql</li>
	<li>oracle</li>
	<li>postgresql</li>
	<li>sqlite3</li>
	<li>frontbase</li>
	<li>ibm_db</li>
</ul>
<h4 id="adding-spree-to-a-rails-application">4.2 Adding Spree to a Rails Application</h4>
<p>Now that we have a basic Rails application we can add Spree to it.  This approach would also work with existing Rails applications that have been around for a long time (assuming they are using Rails 3.0 or greater and assuming there is no conflict in model names, etc.)</p>
<p>After you create the store application, switch to its folder to continue work directly in that application:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ cd mystore
</pre></div><p>Edit the <tt>Gemfile</tt> in your Rails application by adding the following:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

gem 'spree'
</pre></div><p>This will used the latest stable release of Spree.  If you want to require a specific version (for example a &#8220;release candidate&#8221; or &#8220;beta release&#8221;) then just specify the version as well.</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

gem 'spree', '0.30.0.beta1'
</pre></div>
<div class="info"><p>You can also edit the <ins>Gemfile</ins> to allow for the installation of various extensions.  The <a href="extensions.html#installingan-extension">Extension Guide</a> covers installation of extension in detail.</p></div>
<h4 id="gem-installation">4.3 Gem Installation</h4>
<p>Now its time to install any new gem dependencies we have created.  For instance, if you do not already have the appropriate Spree gem or database driver, bundler will install it for you.</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ bundle install
</pre></div><h4 id="configuring-the-database">4.4 Configuring the Database</h4>
<p>Just about every Rails application will interact with a database. The database to use is specified in a configuration file, <tt>config/database.yml</tt>.  The file contains sections for three different environments in which Rails can run by default:</p>
<ul>
	<li>The <tt>development</tt> environment is used on your development computer as you interact manually with the application</li>
	<li>The <tt>test</tt> environment is used to run automated tests</li>
	<li>The <tt>production</tt> environment is used when you deploy your application for the world to use.</li>
</ul>
<div class="note"><p>You may also want to consider creating a <ins>staging</ins> environment for your application.  See the Rails documentation for help in creating additional environments.</p></div>
<h5 id="configuring-a-sqlite-database">4.4.1 Configuring a SQLite Database</h5>
<p>Rails comes with built-in support for <a href="http://www.sqlite.org">SQLite</a>, which is a lightweight serverless database application. While a busy production environment may overload SQLite, it works well for development and testing. Rails defaults to using a SQLite database when creating a new project, but you can always change it later.</p>
<p>Here&#8217;s the section of the default configuration file with connection information for the development environment:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

development:
adapter: sqlite3
database: db/development.sqlite3
pool: 5
timeout: 5000
</pre></div><h5 id="configuring-other-databases">4.4.2 Configuring Other Databases</h5>
<p>The existing <a href="http://guides.rubyonrails.org">rails documentation</a> provides detailed information on setting up all of the major databases.  Please consult this documentation as Spree does not have any special requirements beyond what a standard Rails application requires.</p>
<div class="info"><p>When using a database such as PostgreSQL, you will need to create your database before you run any rails generators. Once you&#8217;ve configured your database.yml file, run the following command:</p></div>

<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rake db:create
</pre></div><h4 id="installing-the-migrations-and-other-assets">4.5 Installing the Migrations and Other Assets</h4>
<p>Spree is actually what is known as a Rails Engine.  As of Rails 3.0 Rails Engines do not automatically copy their migrations or public assets into your Rails application.  Once you&#8217;ve added the Spree gem to the <tt>Gemfile</tt> you can accomplish this by running the following command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rails g spree:site
rake spree:install
</pre></div>
<div class="info"><p>If you have an existing Rails application with customizations (as opposed to just the starter app that we&#8217;ve shown here) you will want to make a note of any files that this task changes.  Its possible that it may alter your javascript or stylesheet files in undesirable ways.  You should check the differences via <ins>git diff</ins> or some other process and manually merge the needed changes if necessary.</p></div>
<p>Spree also comes with sample data (products, orders, etc.)  If you&#8217;d like to install the migrations and assets associated with the sample data then you can run this additional rake task.</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rake spree_sample:install
</pre></div><h4 id="populating-the-database">4.6 Populating the Database</h4>
<p>Now that you have your database configured, it&#8217;s time to have Spree populate it with the necessary tables and data.  You can do this by running a rake command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ rake db:bootstrap
</pre></div>
<div class="warning"><p>This will effectively drop the existing database and recreate it from scratch with the option of creating sample product data.  It is disabled for production databases for safety reasons.  For a production database you should use <ins>rake db:migrate</ins> to create the tables and <ins>rake db:admin:create</ins> to create the admin user.</p></div>
<p>You can also migrate the database in the more &#8220;traditional&#8221; rails manner using more familiar rake tasks.  The following series of commands is equivalent to running the bootstrap task described above:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

rake db:migrate
rake db:seed
rake db:sample
rake db:admin:create
</pre></div>
<div class="note"><p>If you skip the sample and admin create tasks there will be no admin user.  In this situation the first user you create in Spree will be given the admin role automatically.</p></div>
<h3 id="hello-spree">5 Hello, Spree!</h3>
<h4 id="starting-up-spree">5.1 Starting up Spree</h4>
<p>You now have a functional Spree application after running only a few commands! In fact this application is essentially the same as the Spree demo that runs on <a href="http://demo.spreecommerce.com">demo.spreecommerce.com</a>. To see it, you need to start a web server on your development machine. You can do this by running another command:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ rails server
</pre></div><p>Alternatively you can use the shortcut:</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">

$ rails s
</pre></div><p>This will fire up an instance of the Webrick web server by default (Spree can also use several other web servers). To see your application in action, open a browser window and navigate to <tt>http://localhost:3000</tt>. You should see the Spree default home page:</p>
<p><img src="images/spree_welcome.png" title="Spree welcome screenshot" alt="Spree welcome screenshot" /></p>
<p>To stop the web server, hit Ctrl-C in the terminal window where it&#8217;s running. In development mode, Spree does not generally require you to stop the server; changes you make in files will be automatically picked up by the server.</p>
<h4 id="logging-into-the-backend">5.2 Logging into the Backend</h4>
<p>The next thing you&#8217;ll probably want to do is to log into the admin inteface.  User your browser window to navigate to <tt>http://localhost:3000/admin</tt>.  You can login with the username and password you entered during the database setup step.  If you just accepted the defaults, the username is <tt>spree@example.com</tt> and the password is <tt>spree123</tt>.</p>
<p>Upon successful authentication you should see the admin screen:</p>
<p><img src="images/admin_welcome.png" title="Admin welcome screenshot" alt="Admin welcome screenshot" /></p>
<p>Feel free to explore some of the backend features that Spree has to offer and to verify that your installation is working properly.</p>

      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License</a></p>
    </div>

  </div>

  <script type="text/javascript" src="javascripts/guides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushJScript.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushCss.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all()
  </script>
</body>
</html>
